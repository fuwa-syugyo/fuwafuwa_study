## TDDに関するあれこれのメモ

### 予備知識

TDDの本質は以下のことを行うための規律をもたらすこと。

* 信頼できるテストスイートを作成し、リファクタリングやデプロイができるか判断できるようにする。
* 適切に分離された本番コードを作成し、テストやリファクタリングをできるようにする。
* 極端に短いサイクルのフィードバックグループを作成し、プログラムを書くリズムと生産性を安定させる。
* テストコードと本番コードを相互に分離させ、変更があっても複製することなくメンテナンスできるようにする。

### TDDの3つの法則

**第1の法則**

テストを書くまでは本番コードを書いてはならない。本番コードがないためにテストは失敗する

**第2の法則**

失敗するテストやコンパイルできないテストを必要以上に書いてはならない。失敗を解決するには本番コードを書く

**第3の法則**

失敗するテストを解決する本番コードを必要以上に書いてはならない。テストがパスしたら追加のテストを書く

**サイクル**

テストコードを1行書く。まだコンパイルはできない
→ テストをコンパイルできる本番コードを1行書く
→ コンパイルできないテストコードを1行書く
→ テストをコンパイルできる本番コードを1~2行書く
→ コンパイルできないがアサートを失敗するテストコードを1~2行書く
→ アサートをパスできる本番コードを1~2行書く

### TDDの第4の法則

3つの法則に**リファクタリング**を加えるのが第4の法則である。
テストの流れは、 レッド→グリーン→リファクタという感じ。

### ルール

実際にTDDを行っているパートで記述されているルールを雑多にまとめていく。
(多分これだけ読んでも何のことかわからないと思うが、メモとしてただ書いておく)

1. 書きたいことがわかっているコードを書くためのテストを書く
2. 失敗させる。パスさせる。クリーンにする
3. 金メダルを目指さない
4. 最も単純で、最も具体的で、最も退化した、失敗するテストを書く
5. 可能な限り一般化する
6. コードが間違っていると思ったら、先に進む前に設計を修正する
7. 複雑なケースをテストする前に、現在のシンプルなケースをやり尽くす
8. テストをパスさせるための実装が多すぎる場合は、そのテストを削除して、より簡単にパスできるシンプルなテストを書く
9. テストの領域をカバーする意図的で段階的なパターンに従う
10. テストに必要ないものをテストを含めてはならない
11. テストから本番用のデータを使ってはならない
12. (どこに書いてあるんだろう？見つからない…)
13. テストを具体的にすれば、コードは一般化される
14. ある変換で最適なソリューションにならなければ、別の変換を試してみる
15. デバッガーを使ってはならない
