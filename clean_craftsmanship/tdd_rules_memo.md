## TDDに関するあれこれのメモ

### 予備知識

TDDの本質は以下のことを行うための規律をもたらすこと。

* 信頼できるテストスイートを作成し、リファクタリングやデプロイができるか判断できるようにする。
* 適切に分離された本番コードを作成し、テストやリファクタリングをできるようにする。
* 極端に短いサイクルのフィードバックグループを作成し、プログラムを書くリズムと生産性を安定させる。
* テストコードと本番コードを相互に分離させ、変更があっても複製することなくメンテナンスできるようにする。

### TDDの3つの法則

**第1の法則**

テストを書くまでは本番コードを書いてはならない。本番コードがないためにテストは失敗する

**第2の法則**

失敗するテストやコンパイルできないテストを必要以上に書いてはならない。失敗を解決するには本番コードを書く

**第3の法則**

失敗するテストを解決する本番コードを必要以上に書いてはならない。テストがパスしたら追加のテストを書く

**サイクル**

テストコードを1行書く。まだコンパイルはできない
→ テストをコンパイルできる本番コードを1行書く
→ コンパイルできないテストコードを1行書く
→ テストをコンパイルできる本番コードを1~2行書く
→ コンパイルできないがアサートを失敗するテストコードを1~2行書く
→ アサートをパスできる本番コードを1~2行書く

### TDDの第4の法則

3つの法則に**リファクタリング**を加えるのが第4の法則である。
テストの流れは、 レッド→グリーン→リファクタという感じ。
